<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Főoldal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="MainSite.css">
</head>
<body>
   
    <audio controls autoplay loop volume="`0.3`"  class="AudioHead" > 
        <source src="0302.mp4" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

      
    <h2 class="MainText">Üdvözöllek a főoldalon!</h2>
    <div class="col-sm-10 GameText"> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Minus ratione culpa ipsum cupiditate quo voluptas labore consequatur dolores ullam fugiat ex enim architecto exercitationem eaque recusandae maiores, error soluta! A?</div>

    <p class="ChooseButtons">
        <button class="Button3"  id="but3">3x3</button>
        <button class="Button4"  id="but4">4x4</button>
        <button class="Button5"  id="but5">5x5</button>
    </p>

    <form class="UsersInput">
        <input id="User1Name" type="text" name="User1" placeholder="User1Name" >
        <input id="User2Name" type="text" name="User2" placeholder="User2Name">
    </form>
    <button class="StartButton">Start the Game</button>


    <!--Itt átadjuk a gombokat, és megfigyeljük hogy 'clickelnek-e rá.' Ha igen beállítunk egy étéket és LocalStorage-be belerakjuk hogy akárhol 
        majd elérhessük a változónkat. Az oldal újratöltése azért van, mert a localstorage akkor hívja be újból a változónkat.-->
    <script>
        var sizeButton3 = document.querySelector("#but3");
        var sizeButton4 = document.querySelector("#but4");
        var sizeButton5 = document.querySelector("#but5");

        let buttonValue = 0;

        sizeButton3.addEventListener("click", function(){
            buttonValue = 3;
            console.log("3x3-as játékot választottál!");
            localStorage.setItem("buttonValue", buttonValue);
            window.location.reload();
        });
        sizeButton4.addEventListener("click", function(){
            buttonValue = 4;
            console.log("4x4-es játékot választottál!");
            localStorage.setItem("buttonValue", buttonValue);
            window.location.reload();
        });
        sizeButton5.addEventListener("click", function(){
            buttonValue = 5;
            console.log("5x5-ös játékot választottál!");
            localStorage.setItem("buttonValue", buttonValue);
            window.location.reload();
        });
        
        var getvalue = localStorage.getItem("buttonValue");
        console.log(getvalue);

        var StartButton = document.querySelector(".StartButton");


        //Itt megnézzük ügye, hogy elindította e a játékot, és ha igen akkor elmentjük a nevét a localstorage-be, megnézzük hogy a User mezők üresek-e.
    StartButton.addEventListener("click", function(){
    if (document.getElementById("User1Name").value == "" || document.getElementById("User2Name").value == "") {
        alert("Kérlek add meg a neved!");
        return;
    }
    console.log("Start the Game");

    // Generate a random number between 0 and 1
    let randomNumber = Math.floor(Math.random() * 2);

    // Assign 'X' and 'O' to the players based on the random number
    if (randomNumber === 0) {
        localStorage.setItem("User1Name", document.getElementById("User1Name").value + ":X");
        localStorage.setItem("User2Name", document.getElementById("User2Name").value + ":O");
        localStorage.setItem('currentPlayers', 'X');
    } else {
        localStorage.setItem("User1Name", document.getElementById("User1Name").value + ":O");
        localStorage.setItem("User2Name", document.getElementById("User2Name").value + ":X");
        localStorage.setItem('currentPlayers', 'O');
    }

    window.location.href = "GameField.html";
});
    </script>


    <script src="GameField.js"></script>
    <script src="WorkGame.js"></script>
   
</body>
</html>